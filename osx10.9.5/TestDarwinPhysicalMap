#!/bin/bash
if [ "$1" == "ok" ]; then
   cp /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPhysicalMap /Users/adamsh/Projects/test/osx10.9.5/TestDarwinPhysicalMap
elif [ "$1" == "meld" ]; then
   meld /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPhysicalMap /Users/adamsh/Projects/test/osx10.9.5/TestDarwinPhysicalMap
elif [ "$1" == "diff" ]; then
   diff /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPhysicalMap /Users/adamsh/Projects/test/osx10.9.5/TestDarwinPhysicalMap
elif [ "$1" == "run" ]; then
   rekall  --renderer 'test' --cache_dir '/Users/adamsh/Projects/test/osx10.9.5/../profile_cache/' --filename '/Users/adamsh/Projects/test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module' 'Symbol' - phys_map
else
   less /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPhysicalMap
fi
exit 0
{
    "errors": {}, 
    "time_used": 7.778995990753174, 
    "return_code": 0, 
    "failures": {
        "testCase (__main__.TestDarwinPhysicalMap)": "Traceback (most recent call last):\n  File \"/Users/adamsh/Projects/rekall/rekall/testlib.py\", line 283, in run\n    testMethod()\n  File \"/Users/adamsh/Projects/rekall/rekall/testlib.py\", line 333, in testCase\n    self.assertEqual(previous, current)\nAssertionError: 42 != 179\n"
    }, 
    "output": [
        "Physical Start|| Physical End ||   Virtual    ||  Pages   ||Type", 
        "--------------||--------------||--------------||----------||----", 
        "0x000000000000||0x0000000a0000||0x000000000000||       160||kEfiConventionalMemory", 
        "0x000000100000||0x000002000000||0x000000000000||      7936||kEfiConventionalMemory", 
        "0x000002000000||0x000002600000||0x000000000000||      1536||kEfiBootServicesData", 
        "0x000002600000||0x000008d00000||0x000000000000||     26368||kEfiConventionalMemory", 
        "0x000008d00000||0x000008d13000||0x000000000000||        19||kEfiLoaderData", 
        "0x000008d13000||0x000008e00000||0x000000000000||       237||kEfiConventionalMemory", 
        "0x000008e00000||0x0000093a9000||0x000000000000||      1449||kEfiLoaderData", 
        "0x0000093a9000||0x000009400000||0x000000000000||        87||kEfiConventionalMemory", 
        "0x000009400000||0x00000ab65000||0x000000000000||      5989||kEfiLoaderData", 
        "0x00000ab65000||0x00000ab72000||0xff800ab65000||        13||kEfiRuntimeServicesCode", 
        "0x00000ab72000||0x00000aba2000||0xff800ab72000||        48||kEfiRuntimeServicesCode", 
        "0x00000aba2000||0x00000abc6000||0xff800aba2000||        36||kEfiRuntimeServicesData", 
        "0x00000abc6000||0x00000abe6000||0xff800abc6000||        32||kEfiRuntimeServicesData", 
        "0x00000abe6000||0x00000abe8000||0x000000000000||         2||kEfiLoaderData", 
        "0x00000abe8000||0x000015000000||0x000000000000||     42008||kEfiConventionalMemory", 
        "0x000015000000||0x000015020000||0x000000000000||        32||kEfiBootServicesData", 
        "0x000015020000||0x000016dc2000||0x000000000000||      7586||kEfiConventionalMemory", 
        "0x000016dc2000||0x0000171a5000||0x000000000000||       995||kEfiBootServicesData", 
        "0x0000171a5000||0x000017363000||0x000000000000||       446||kEfiConventionalMemory", 
        "0x000017363000||0x0000173e0000||0x000000000000||       125||kEfiLoaderCode", 
        "0x0000173e0000||0x000017422000||0x000000000000||        66||kEfiConventionalMemory", 
        "0x000017422000||0x00001745b000||0x000000000000||        57||kEfiBootServicesData", 
        "0x00001745b000||0x00001745c000||0x000000000000||         1||kEfiLoaderCode", 
        "0x00001745c000||0x0000179de000||0x000000000000||      1410||kEfiBootServicesData", 
        "0x0000179de000||0x0000179df000||0x000000000000||         1||kEfiACPIReclaimMemory", 
        "0x0000179df000||0x0000179ec000||0x000000000000||        13||kEfiConventionalMemory", 
        "0x0000179ec000||0x000017aec000||0x000000000000||       256||kEfiBootServicesData", 
        "0x000017aec000||0x000017b0e000||0x000000000000||        34||kEfiConventionalMemory", 
        "0x000017b0e000||0x000017b10000||0x000000000000||         2||kEfiBootServicesData", 
        "0x000017b10000||0x000017b12000||0x000000000000||         2||kEfiConventionalMemory", 
        "0x000017b12000||0x0000189ec000||0x000000000000||      3802||kEfiBootServicesData", 
        "0x0000189ec000||0x0000189ef000||0x000000000000||         3||kEfiConventionalMemory", 
        "0x0000189ef000||0x000018b6c000||0x000000000000||       381||kEfiBootServicesCode", 
        "0x000018b6c000||0x000018b9c000||0x000000000000||        48||kEfiConventionalMemory", 
        "0x000018b9c000||0x000018bc0000||0x000000000000||        36||kEfiConventionalMemory", 
        "0x000018bc0000||0x000018bc4000||0x000000000000||         4||kEfiReservedMemoryType", 
        "0x000018bc4000||0x000018bcc000||0x000000000000||         8||kEfiACPIReclaimMemory", 
        "0x000018bcc000||0x000018bd0000||0x000000000000||         4||kEfiACPIMemoryNVS", 
        "0x000018bd0000||0x000018fd0000||0x000000000000||      1024||kEfiBootServicesData", 
        "0x000018fd0000||0x000018ff0000||0x000000000000||        32||kEfiConventionalMemory", 
        "                                                     Visual mapping                                                     ||                 Legend                 ", 
        "------------------------------------------------------------------------------------------------------------------------||----------------------------------------", 
        " Offset (p) +00000 +40000 +80000 +c0000 +100000 +140000 +180000 +1c0000 +200000 +240000 +280000 +2c0000                 ||Resolution: 64 pages (0.25 MB) per cell.", 
        "       0x0  M      M      M      -      M       M       M       M       M       M       M       M                       ||Note that colors of overlapping regions ", 
        "  0x300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||are blended using a weighted average.   ", 
        "  0x600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||Letters in cells indicate which regions ", 
        "  0x900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||from the legend are present. They are   ", 
        "  0xc00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||ordered proportionally, by their        ", 
        "  0xf00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||respective page counts in each cell.    ", 
        " 0x1200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiACPIMemoryNVS (Am)                ", 
        " 0x1500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiACPIReclaimMemory (Ar)            ", 
        " 0x1800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiBootServicesCode (Bc)             ", 
        " 0x1b00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiBootServicesData (Bd)             ", 
        " 0x1e00000  M      M      M      M      M       M       M       M       Bd      Bd      Bd      Bd                      ||  kEfiConventionalMemory (M)            ", 
        " 0x2100000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||  kEfiLoaderCode (Ec)                   ", 
        " 0x2400000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      M       M       M       M                       ||  kEfiLoaderData (Ed)                   ", 
        " 0x2700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiMemoryMappedIO (I)                ", 
        " 0x2a00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiReservedMemoryType (X)            ", 
        " 0x2d00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiRuntimeServicesCode (Rc)          ", 
        " 0x3000000  M      M      M      M      M       M       M       M       M       M       M       M                       ||  kEfiRuntimeServicesData (Rd)          ", 
        " 0x3300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x3600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x3900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x3c00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x3f00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x4200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x4500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x4800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x4b00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x4e00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x5100000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x5400000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x5700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x5a00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x5d00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x6000000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x6300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x6600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x6900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x6c00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x6f00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x7200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x7500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x7800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x7b00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x7e00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x8100000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x8400000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x8700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x8a00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0x8d00000  EdM    M      M      M      Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0x9000000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0x9300000  Ed     Ed     MEd    M      Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0x9600000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0x9900000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0x9c00000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0x9f00000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0xa200000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0xa500000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0xa800000  Ed     Ed     Ed     Ed     Ed      Ed      Ed      Ed      Ed      Ed      Ed      Ed                      ||                                        ", 
        " 0xab00000  Ed     RcEd   RdRc   EdRdM  M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xae00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xb100000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xb400000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xb700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xba00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xbd00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xc000000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xc300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xc600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xc900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xcc00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xcf00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xd200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xd500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xd800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xdb00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xde00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xe100000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xe400000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xe700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xea00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xed00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xf000000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xf300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xf600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xf900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xfc00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        " 0xff00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x10200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x10500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x10800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x10b00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x10e00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x11100000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x11400000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x11700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x11a00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x11d00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x12000000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x12300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x12600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x12900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x12c00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x12f00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x13200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x13500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x13800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x13b00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x13e00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x14100000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x14400000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x14700000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x14a00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x14d00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x15000000  BdM    M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x15300000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x15600000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x15900000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x15c00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x15f00000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x16200000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x16500000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x16800000  M      M      M      M      M       M       M       M       M       M       M       M                       ||                                        ", 
        "0x16b00000  M      M      M      M      M       M       M       M       M       M       M       MBd                     ||                                        ", 
        "0x16e00000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x17100000  Bd     Bd     MBd    M      M       M       M       M       M       EcM     Ec      MEc                     ||                                        ", 
        "0x17400000  BdM    EcBd   Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x17700000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      ArBdM                   ||                                        ", 
        "0x17a00000  Bd     Bd     Bd     MBd    MBd     Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x17d00000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x18000000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x18300000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x18600000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x18900000  Bd     Bd     Bd     MBcBd  Bc      Bc      Bc      Bc      Bc      MBc     M       XAmAr                   ||                                        ", 
        "0x18c00000  Bd     Bd     Bd     Bd     Bd      Bd      Bd      Bd      Bd      Bd      Bd      Bd                      ||                                        ", 
        "0x18f00000  Bd     Bd     Bd     BdM                                                                                    ||                                        "
    ], 
    "options": {
        "--name_resolution_strategies": [
            "Module", 
            "Symbol"
        ], 
        "executable": "rekall ", 
        "--filename": "/Users/adamsh/Projects/test/osx10.9.5/vmem.e01", 
        "--cache_dir": "/Users/adamsh/Projects/test/osx10.9.5/../profile_cache/", 
        "commandline": "phys_map", 
        "--renderer": "test", 
        "test_class": "TestDarwinPhysicalMap", 
        "tempdir": "/var/folders/00/1pjr0000h01000cxqpysvccm006t70/T/tmpGNLSlg/TestDarwinPhysicalMapThread-8", 
        "executed_command": "rekall  --renderer 'test' --cache_dir '/Users/adamsh/Projects/test/osx10.9.5/../profile_cache/' --filename '/Users/adamsh/Projects/test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module' 'Symbol' - phys_map", 
        "testdir": "/Users/adamsh/Projects/test/osx10.9.5"
    }
}