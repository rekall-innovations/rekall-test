#!/bin/bash
if [ "$1" == "ok" ]; then
   cp /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPsxView /Users/adamsh/Projects/test/osx10.9.5/TestDarwinPsxView
elif [ "$1" == "meld" ]; then
   meld /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPsxView /Users/adamsh/Projects/test/osx10.9.5/TestDarwinPsxView
elif [ "$1" == "diff" ]; then
   diff /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPsxView /Users/adamsh/Projects/test/osx10.9.5/TestDarwinPsxView
elif [ "$1" == "run" ]; then
   rekall  --cache_dir '/Users/adamsh/Projects/test/osx10.9.5/../profile_cache/' --format 'test' --filename '/Users/adamsh/Projects/test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module' 'Symbol' - psxview
else
   less /Users/adamsh/Projects/test/osx10.9.5/output/TestDarwinPsxView
fi
exit 0
{
    "errors": {}, 
    "logging": "", 
    "time_used": 7.135984182357788, 
    "return_code": 0, 
    "failures": {
        "testCase (__main__.TestDarwinPsxView)": "Traceback (most recent call last):\n  File \"/Users/adamsh/Projects/rekall/rekall/testlib.py\", line 235, in run\n    testMethod()\n  File \"/Users/adamsh/Projects/rekall/rekall/testlib.py\", line 285, in testCase\n    self.assertEqual(previous, current)\nAssertionError: u'              Process/Pid               ||allproc||deadprocs||pgrphash||pidhas [truncated]... != u'   PID    ||                Process                 ||allproc||deadprocs||pgrp [truncated]...\n-               Process/Pid               ||allproc||deadprocs||pgrphash||pidhash||sessions||tasks\n?                      ^^^^\n+    PID    ||                Process                 ||allproc||deadprocs||pgrphash||pidhash||sessions||tasks\n? ++++++++++++++                     ^^\n\n"
    }, 
    "output": [
        "   PID    ||                Process                 ||allproc||deadprocs||pgrphash||pidhash||sessions||tasks", 
        "----------||----------------------------------------||-------||---------||--------||-------||--------||-----", 
        "0         ||kernel_task                             ||False  ||False    ||True    ||False  ||False   ||True ", 
        "1         ||launchd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "11        ||UserEventAgent                          ||True   ||False    ||True    ||True   ||True    ||True ", 
        "12        ||kextd                                   ||True   ||False    ||True    ||True   ||True    ||True ", 
        "13        ||taskgated                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "14        ||notifyd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "15        ||diskarbitrationd                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "16        ||configd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "17        ||syslogd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "18        ||securityd                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "20        ||distnoted                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "21        ||opendirectoryd                          ||True   ||False    ||True    ||True   ||True    ||True ", 
        "22        ||powerd                                  ||True   ||False    ||True    ||True   ||True    ||True ", 
        "23        ||cfprefsd                                ||True   ||False    ||True    ||True   ||True    ||True ", 
        "25        ||xpcd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "26        ||authd                                   ||True   ||False    ||True    ||True   ||True    ||True ", 
        "27        ||coreservicesd                           ||True   ||False    ||True    ||True   ||True    ||True ", 
        "29        ||wdhelper                                ||True   ||False    ||True    ||True   ||True    ||True ", 
        "30        ||warmd                                   ||True   ||False    ||True    ||True   ||True    ||True ", 
        "31        ||usbmuxd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "34        ||stackshot                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "37        ||SleepServicesD                          ||True   ||False    ||True    ||True   ||True    ||True ", 
        "39        ||revisiond                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "44        ||mds                                     ||True   ||False    ||True    ||True   ||True    ||True ", 
        "45        ||mDNSResponder                           ||True   ||False    ||True    ||True   ||True    ||True ", 
        "48        ||loginwindow                             ||True   ||False    ||True    ||True   ||True    ||True ", 
        "49        ||logind                                  ||True   ||False    ||True    ||True   ||True    ||True ", 
        "50        ||locationd                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "51        ||KernelEventAgent                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "53        ||hidd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "54        ||fseventsd                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "55        ||firmwaresyncd                           ||True   ||False    ||True    ||True   ||True    ||True ", 
        "56        ||dynamic_pager                           ||True   ||False    ||True    ||True   ||True    ||True ", 
        "60        ||launchservicesd                         ||True   ||False    ||True    ||True   ||True    ||True ", 
        "61        ||appleeventsd                            ||True   ||False    ||True    ||True   ||True    ||True ", 
        "66        ||autofsd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "67        ||apsd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "68        ||aosnotifyd                              ||True   ||False    ||True    ||True   ||True    ||True ", 
        "69        ||airportd                                ||True   ||False    ||True    ||True   ||True    ||True ", 
        "80        ||rpcsvchost                              ||True   ||False    ||True    ||True   ||True    ||True ", 
        "81        ||WindowServer                            ||True   ||False    ||True    ||True   ||True    ||True ", 
        "82        ||ocspd                                   ||True   ||False    ||True    ||True   ||True    ||True ", 
        "83        ||backupd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "100       ||mds_stores                              ||True   ||False    ||True    ||True   ||True    ||True ", 
        "104       ||networkd                                ||True   ||False    ||True    ||True   ||True    ||True ", 
        "107       ||networkd_privile                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "109       ||sysmond                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "110       ||usbd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "111       ||ntpd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "114       ||com.apple.CodeSi                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "125       ||netbiosd                                ||True   ||False    ||True    ||True   ||True    ||True ", 
        "129       ||softwareupdated                         ||True   ||False    ||True    ||True   ||True    ||True ", 
        "130       ||xpcd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "132       ||tccd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "133       ||suhelperd                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "134       ||timezoned                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "135       ||CVMServer                               ||True   ||False    ||True    ||True   ||True    ||True ", 
        "136       ||launchd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "138       ||CVMCompiler                             ||True   ||False    ||True    ||True   ||False   ||True ", 
        "141       ||launchd                                 ||True   ||False    ||True    ||True   ||True    ||True ", 
        "142       ||securityd_servic                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "145       ||UserEventAgent                          ||True   ||False    ||True    ||True   ||False   ||True ", 
        "146       ||distnoted                               ||True   ||False    ||True    ||True   ||False   ||True ", 
        "148       ||cfprefsd                                ||True   ||False    ||True    ||True   ||False   ||True ", 
        "151       ||Terminal                                ||True   ||False    ||True    ||True   ||False   ||True ", 
        "153       ||Dock                                    ||True   ||False    ||True    ||True   ||False   ||True ", 
        "155       ||tccd                                    ||True   ||False    ||True    ||True   ||False   ||True ", 
        "156       ||SystemUIServer                          ||True   ||False    ||True    ||True   ||False   ||True ", 
        "157       ||Finder                                  ||True   ||False    ||True    ||True   ||False   ||True ", 
        "159       ||coreaudiod                              ||True   ||False    ||True    ||True   ||True    ||True ", 
        "162       ||SubmitDiagInfo                          ||False  ||True     ||False   ||False  ||False   ||False", 
        "163       ||pboard                                  ||True   ||False    ||True    ||True   ||False   ||True ", 
        "164       ||xpcd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "166       ||xpcd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "169       ||fontd                                   ||True   ||False    ||True    ||True   ||False   ||True ", 
        "171       ||CVMCompiler                             ||True   ||False    ||True    ||True   ||False   ||True ", 
        "172       ||com.apple.audio.                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "175       ||sharingd                                ||True   ||False    ||True    ||True   ||False   ||True ", 
        "179       ||librariand                              ||True   ||False    ||True    ||True   ||False   ||True ", 
        "180       ||usernoted                               ||True   ||False    ||True    ||True   ||False   ||True ", 
        "181       ||NotificationCent                        ||True   ||False    ||True    ||True   ||False   ||True ", 
        "182       ||CVMCompiler                             ||True   ||False    ||True    ||True   ||False   ||True ", 
        "183       ||ubd                                     ||True   ||False    ||True    ||True   ||False   ||True ", 
        "184       ||mdworker                                ||True   ||False    ||True    ||True   ||True    ||True ", 
        "188       ||filecoordination                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "189       ||soagent                                 ||False  ||True     ||False   ||False  ||False   ||False", 
        "190       ||com.apple.ShareK                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "192       ||imagent                                 ||True   ||False    ||True    ||True   ||False   ||True ", 
        "193       ||com.apple.audio.                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "194       ||CalendarAgent                           ||True   ||False    ||True    ||True   ||False   ||True ", 
        "197       ||xpcd                                    ||True   ||False    ||True    ||True   ||True    ||True ", 
        "201       ||IMDPersistenceAg                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "203       ||WiFiKeychainProx                        ||True   ||False    ||True    ||True   ||False   ||True ", 
        "204       ||SocialPushAgent                         ||True   ||False    ||True    ||True   ||False   ||True ", 
        "207       ||lsboxd                                  ||True   ||False    ||True    ||True   ||False   ||True ", 
        "209       ||identityservices                        ||True   ||False    ||True    ||True   ||False   ||True ", 
        "210       ||helpd                                   ||True   ||False    ||True    ||True   ||False   ||True ", 
        "212       ||AppleIDAuthAgent                        ||True   ||False    ||True    ||True   ||False   ||True ", 
        "217       ||FindMyMacd                              ||True   ||False    ||True    ||True   ||True    ||True ", 
        "219       ||accountsd                               ||True   ||False    ||True    ||True   ||False   ||True ", 
        "223       ||secd                                    ||True   ||False    ||True    ||True   ||False   ||True ", 
        "224       ||com.apple.IconSe                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "227       ||com.apple.dock.e                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "228       ||quicklookd                              ||True   ||False    ||True    ||True   ||False   ||True ", 
        "229       ||IMRemoteURLConne                        ||True   ||False    ||True    ||True   ||True    ||True ", 
        "230       ||login                                   ||True   ||False    ||True    ||True   ||True    ||True ", 
        "231       ||talagent                                ||False  ||True     ||False   ||False  ||False   ||False", 
        "232       ||bash                                    ||True   ||False    ||True    ||True   ||False   ||True ", 
        "234       ||path_helper                             ||False  ||True     ||False   ||False  ||False   ||False", 
        "236       ||CloudKeychainPro                        ||True   ||False    ||True    ||True   ||False   ||True ", 
        "238       ||syncdefaultsd                           ||True   ||False    ||True    ||True   ||False   ||True ", 
        "239       ||cookied                                 ||True   ||False    ||True    ||True   ||False   ||True "
    ], 
    "options": {
        "--name_resolution_strategies": [
            "Module", 
            "Symbol"
        ], 
        "executable": "rekall ", 
        "--filename": "/Users/adamsh/Projects/test/osx10.9.5/vmem.e01", 
        "--format": "test", 
        "commandline": "psxview", 
        "pid": 232, 
        "test_class": "TestDarwinPsxView", 
        "--cache_dir": "/Users/adamsh/Projects/test/osx10.9.5/../profile_cache/", 
        "tempdir": "/var/folders/00/1pjr0000h01000cxqpysvccm006t70/T/tmpMJOylS/TestDarwinPsxViewThread-7", 
        "executed_command": "rekall  --cache_dir '/Users/adamsh/Projects/test/osx10.9.5/../profile_cache/' --format 'test' --filename '/Users/adamsh/Projects/test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module' 'Symbol' - psxview", 
        "testdir": "/Users/adamsh/Projects/test/osx10.9.5"
    }
}