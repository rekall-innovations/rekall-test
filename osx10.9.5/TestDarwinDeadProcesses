#!/bin/bash
if [ "$1" == "ok" ]; then
   cp /home/scudette/projects/rekall-test/osx10.9.5/output/TestDarwinDeadProcesses /home/scudette/projects/rekall-test/osx10.9.5/TestDarwinDeadProcesses
elif [ "$1" == "meld" ]; then
   meld /home/scudette/projects/rekall-test/osx10.9.5/output/TestDarwinDeadProcesses /home/scudette/projects/rekall-test/osx10.9.5/TestDarwinDeadProcesses
elif [ "$1" == "diff" ]; then
   diff /home/scudette/projects/rekall-test/osx10.9.5/output/TestDarwinDeadProcesses /home/scudette/projects/rekall-test/osx10.9.5/TestDarwinDeadProcesses
elif [ "$1" == "run" ]; then
   rekall  --cache_dir '/home/scudette/projects/rekall-test/osx10.9.5/../profile_cache/' --format 'test' --filename '/home/scudette/projects/rekall-test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module' 'Symbol' - dead_procs
else
   less /home/scudette/projects/rekall-test/osx10.9.5/output/TestDarwinDeadProcesses
fi
exit 0
{
    "errors": {}, 
    "time_used": 10.620719909667969, 
    "return_code": 0, 
    "failures": {
        "testCase (__main__.TestDarwinDeadProcesses)": "Traceback (most recent call last):\n  File \"/home/scudette/rekall/rekall/testlib.py\", line 233, in run\n    testMethod()\n  File \"/home/scudette/rekall/rekall/testlib.py\", line 283, in testCase\n    self.assertEqual(previous, current)\nAssertionError: 1 != 114\n"
    }, 
    "output": [
        "                Process                 ||       parent       ||        user        || is_64bit ||       created_at        ||     cr3      ", 
        "----------------------------------------||--------------------||--------------------||----------||-------------------------||--------------", 
        "0xff80094fccd0||kernel_task||          0||kernel_task (pid=0) ||User/uid: 0         ||True      ||2014-12-05 18:53:22+0000 ||     0xade1000", 
        "0xff800c518a80||launchd||              1||kernel_task (pid=0) ||User/uid: 0         ||True      ||2014-12-05 18:53:22+0000 ||     0xa4e5000", 
        "0xff800c5177e0||UserEventAgent||      11||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:25+0000 ||     0x62f3000", 
        "0xff800c518130||kextd||               12||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:25+0000 ||     0x68a9000", 
        "0xff800c517c88||taskgated||           13||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:25+0000 ||     0x6865000", 
        "0xff800c517338||notifyd||             14||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:27+0000 ||      0x732000", 
        "0xff800c516e90||diskarbitrationd||    15||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:27+0000 ||     0x6466000", 
        "0xff800c5169e8||configd||             16||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:27+0000 ||      0x3e7000", 
        "0xff800c516540||syslogd||             17||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:27+0000 ||     0x6637000", 
        "0xff800c516098||securityd||           18||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:27+0000 ||     0x6557000", 
        "0xff800c515bf0||distnoted||           20||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:28+0000 ||     0x6eba000", 
        "0xff800c515748||opendirectoryd||      21||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:28+0000 ||     0x5195000", 
        "0xff800c5152a0||powerd||              22||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:28+0000 ||     0x642f000", 
        "0xff800c514df8||cfprefsd||            23||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:28+0000 ||     0xc4b7000", 
        "0xff800c5144a8||xpcd||                25||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:28+0000 ||     0xc624000", 
        "0xff800c514000||authd||               26||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:28+0000 ||     0xb411000", 
        "0xff800cc8da80||coreservicesd||       27||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:29+0000 ||     0xcae4000", 
        "0xff800cc8d5d8||wdhelper||            29||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xe60d000", 
        "0xff800cc8d130||warmd||               30||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xc891000", 
        "0xff800cc8cc88||usbmuxd||             31||launchd (pid=1)     ||User/uid: 213       ||True      ||2014-12-05 18:53:30+0000 ||     0xdd41000", 
        "0xff800cc8be90||stackshot||           34||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdad4000", 
        "0xff800cc8b098||SleepServicesD||      37||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdb62000", 
        "0xff800cc8a748||revisiond||           39||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdc2c000", 
        "0xff800cc89000||mds||                 44||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdcc8000", 
        "0xff800cdf8a80||mDNSResponder||       45||launchd (pid=1)     ||User/uid: 65        ||True      ||2014-12-05 18:53:30+0000 ||     0xe212000", 
        "0xff800cdf7c88||loginwindow||         48||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:53:30+0000 ||     0xddb3000", 
        "0xff800cdf77e0||logind||              49||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xddeb000", 
        "0xff800cdf7338||locationd||           50||launchd (pid=1)     ||User/uid: 205       ||True      ||2014-12-05 18:53:30+0000 ||     0xdb32000", 
        "0xff800cdf6e90||KernelEventAgent||    51||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xde40000", 
        "0xff800cdf6540||hidd||                53||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdef0000", 
        "0xff800cdf6098||fseventsd||           54||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdf26000", 
        "0xff800cdf5bf0||firmwaresyncd||       55||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdf64000", 
        "0xff800cdf5748||dynamic_pager||       56||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdfac000", 
        "0xff800cdf44a8||launchservicesd||     60||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xe154000", 
        "0xff800cdf4000||appleeventsd||        61||launchd (pid=1)     ||User/uid: 55        ||True      ||2014-12-05 18:53:30+0000 ||     0xde7e000", 
        "0xff800ce7a7e0||autofsd||             66||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xdbf9000", 
        "0xff800ce7a338||apsd||                67||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xe307000", 
        "0xff800ce79e90||aosnotifyd||          68||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xe343000", 
        "0xff800ce799e8||airportd||            69||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:53:30+0000 ||     0xe37d000", 
        "0xff800cc8abf0||rpcsvchost||          80||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:01+0000 ||     0xdb8f000", 
        "0xff800cc894a8||WindowServer||        81||launchd (pid=1)     ||User/uid: 88        ||True      ||2014-12-05 18:54:01+0000 ||     0xe3b9000", 
        "0xff800cc89df8||ocspd||               82||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:02+0000 ||     0xe2ce000", 
        "0xff800cc8a2a0||backupd||             83||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:02+0000 ||     0xe1ce000", 
        "0xff800ce79540||mds_stores||         100||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:04+0000 ||     0x3c2b000", 
        "0xff800c514950||networkd||           104||launchd (pid=1)     ||User/uid: 24        ||True      ||2014-12-05 18:54:10+0000 ||     0xe0b4000", 
        "0xff800cc8c7e0||networkd_privile||   107||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:11+0000 ||     0x3c56000", 
        "0xff800cdf69e8||sysmond||            109||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:11+0000 ||     0xda72000", 
        "0xff800ce7ba80||usbd||               110||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:11+0000 ||     0xdd7d000", 
        "0xff800ce79098||ntpd||               111||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:11+0000 ||     0x4566000", 
        "0xff800ce78748||com.apple.CodeSi||   114||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:12+0000 ||     0xdbc8000", 
        "0xff800cdf8130||netbiosd||           125||launchd (pid=1)     ||User/uid: 222       ||True      ||2014-12-05 18:54:16+0000 ||     0xf680000", 
        "0xff800ce7ac88||softwareupdated||    129||launchd (pid=1)     ||User/uid: 200       ||True      ||2014-12-05 18:54:16+0000 ||     0x3c62000", 
        "0xff800ca695d8||xpcd||               130||launchd (pid=1)     ||User/uid: 200       ||True      ||2014-12-05 18:54:16+0000 ||     0x649c000", 
        "0xff800ca68c88||tccd||               132||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:19+0000 ||     0x2c17000", 
        "0xff800ca69130||suhelperd||          133||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:22+0000 ||     0x6d4e000", 
        "0xff800cc8b540||timezoned||          134||launchd (pid=1)     ||User/uid: 210       ||True      ||2014-12-05 18:54:28+0000 ||     0xdcfe000", 
        "0xff800ce7b130||CVMServer||          135||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:52+0000 ||     0xc582000", 
        "0xff800ce7b5d8||launchd||            136||launchd (pid=1)     ||User/uid: 92        ||True      ||2014-12-05 18:54:52+0000 ||    0x1777d000", 
        "0xff800cdf85d8||CVMCompiler||        138||launchd (pid=136)   ||User/uid: 92        ||True      ||2014-12-05 18:54:53+0000 ||     0xdeb6000", 
        "0xff800ce78bf0||launchd||            141||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:54:56+0000 ||     0x4b27000", 
        "0xff800ce77950||securityd_servic||   142||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:54:56+0000 ||    0x18291000", 
        "0xff800ce774a8||UserEventAgent||     145||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:54:57+0000 ||     0x71cd000", 
        "0xff800ce77df8||distnoted||          146||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:54:57+0000 ||    0x18159000", 
        "0xff800ca69a80||cfprefsd||           148||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:54:58+0000 ||     0xa461000", 
        "0xff800c5185d8||Terminal||           151||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:54:59+0000 ||    0x1188e000", 
        "0xff800ca68338||Dock||               153||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:54:59+0000 ||    0x165cf000", 
        "0xff800cc8b9e8||tccd||               155||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:00+0000 ||    0x132b7000", 
        "0xff800ca679e8||SystemUIServer||     156||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:00+0000 ||     0xe119000", 
        "0xff800ca67540||Finder||             157||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:00+0000 ||     0x989c000", 
        "0xff800ca66bf0||coreaudiod||         159||launchd (pid=1)     ||User/uid: 202       ||True      ||2014-12-05 18:55:00+0000 ||     0x44e1000", 
        "0xff800ca67098||SubmitDiagInfo||     162||launchd (pid=1)     ||User/uid: 0         ||False     ||2014-12-05 18:55:02+0000 ||-             ", 
        "0xff800cdf4950||pboard||             163||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:04+0000 ||    0x17c08000", 
        "0xff800ce77000||xpcd||               164||launchd (pid=1)     ||User/uid: 202       ||True      ||2014-12-05 18:55:04+0000 ||    0x17018000", 
        "0xff800cc89950||xpcd||               166||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:55:05+0000 ||    0x17f3f000", 
        "0xff800ca65df8||fontd||              169||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:07+0000 ||     0xb4a6000", 
        "0xff800ca687e0||CVMCompiler||        171||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:09+0000 ||    0x14c01000", 
        "0xff800ca654a8||com.apple.audio.||   172||launchd (pid=1)     ||User/uid: 202       ||True      ||2014-12-05 18:55:10+0000 ||     0xcd5c000", 
        "0xff800ca66748||sharingd||           175||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:11+0000 ||     0xf5c0000", 
        "0xff800d795a80||librariand||         179||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:13+0000 ||     0x5500000", 
        "0xff800d7955d8||usernoted||          180||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:15+0000 ||    0x1323e000", 
        "0xff800d795130||NotificationCent||   181||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:15+0000 ||    0x1136b000", 
        "0xff800cc8c338||CVMCompiler||        182||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:15+0000 ||    0x137c6000", 
        "0xff800cdf52a0||ubd||                183||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:18+0000 ||     0x7d64000", 
        "0xff800d794c88||mdworker||           184||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:55:21+0000 ||    0x13bd5000", 
        "0xff800d794338||filecoordination||   188||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:55:30+0000 ||     0xe6e3000", 
        "0xff800d793e90||soagent||            189||launchd (pid=141)   ||User/uid: 501       ||False     ||2014-12-05 18:55:31+0000 ||-             ", 
        "0xff800cdf4df8||com.apple.ShareK||   190||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:55:31+0000 ||    0x1198b000", 
        "0xff800ce782a0||imagent||            192||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:39+0000 ||    0x12fc6000", 
        "0xff800d7939e8||com.apple.audio.||   193||launchd (pid=1)     ||User/uid: 202       ||True      ||2014-12-05 18:55:40+0000 ||    0x1126e000", 
        "0xff800d7947e0||CalendarAgent||      194||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:55:44+0000 ||    0x10aa6000", 
        "0xff800d792bf0||xpcd||               197||launchd (pid=1)     ||User/uid: 55        ||True      ||2014-12-05 18:55:46+0000 ||     0x4388000", 
        "0xff800d791950||IMDPersistenceAg||   201||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:55:47+0000 ||     0x3981000", 
        "0xff800d792748||WiFiKeychainProx||   203||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:00+0000 ||     0xfbe0000", 
        "0xff800d7922a0||SocialPushAgent||    204||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:00+0000 ||    0x12c9b000", 
        "0xff800d791000||lsboxd||             207||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:01+0000 ||    0x12fa5000", 
        "0xff800cba45d8||identityservices||   209||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:03+0000 ||     0xfba3000", 
        "0xff800cba4130||helpd||              210||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:03+0000 ||     0xe372000", 
        "0xff800cba37e0||AppleIDAuthAgent||   212||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:05+0000 ||     0xff4b000", 
        "0xff800cba2540||FindMyMacd||         217||launchd (pid=1)     ||User/uid: 0         ||True      ||2014-12-05 18:56:24+0000 ||     0x7ec4000", 
        "0xff800cba29e8||accountsd||          219||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:56:44+0000 ||    0x12dd1000", 
        "0xff800d7914a8||secd||               223||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:57:05+0000 ||    0x1291a000", 
        "0xff800d793098||com.apple.IconSe||   224||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:57:11+0000 ||     0xe7e4000", 
        "0xff800ca65950||com.apple.dock.e||   227||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:57:19+0000 ||    0x16cc6000", 
        "0xff800d793540||quicklookd||         228||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:57:19+0000 ||     0xd364000", 
        "0xff800cba3338||IMRemoteURLConne||   229||launchd (pid=1)     ||User/uid: 501       ||True      ||2014-12-05 18:57:26+0000 ||    0x14e39000", 
        "0xff800cba2e90||login||              230||Terminal (pid=151)  ||User/uid: 0         ||True      ||2014-12-05 18:57:29+0000 ||     0xbf36000", 
        "0xff800cba4a80||talagent||           231||launchd (pid=141)   ||User/uid: 501       ||False     ||2014-12-05 18:57:29+0000 ||-             ", 
        "0xff800cba3c88||bash||               232||login (pid=230)     ||User/uid: 501       ||True      ||2014-12-05 18:57:31+0000 ||     0xf9fe000", 
        "0xff800ca67e90||path_helper||        234||-                   ||User/uid: 501       ||False     ||2014-12-05 18:57:33+0000 ||-             ", 
        "0xff800ca65000||CloudKeychainPro||   236||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:57:37+0000 ||      0x6a3000", 
        "0xff800ca662a0||syncdefaultsd||      238||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:57:37+0000 ||     0x46da000", 
        "0xff800d791df8||cookied||            239||launchd (pid=141)   ||User/uid: 501       ||True      ||2014-12-05 18:57:40+0000 ||     0x6d3a000"
    ], 
    "options": {
        "--name_resolution_strategies": [
            "Module", 
            "Symbol"
        ], 
        "executable": "rekall ", 
        "--filename": "/home/scudette/projects/rekall-test/osx10.9.5/vmem.e01", 
        "--format": "test", 
        "commandline": "dead_procs", 
        "pid": 232, 
        "test_class": "TestDarwinDeadProcesses", 
        "--cache_dir": "/home/scudette/projects/rekall-test/osx10.9.5/../profile_cache/", 
        "tempdir": "/tmp/tmpjzpO_p/TestDarwinDeadProcessesThread-3", 
        "executed_command": "rekall  --cache_dir '/home/scudette/projects/rekall-test/osx10.9.5/../profile_cache/' --format 'test' --filename '/home/scudette/projects/rekall-test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module' 'Symbol' - dead_procs", 
        "testdir": "/home/scudette/projects/rekall-test/osx10.9.5"
    }
}