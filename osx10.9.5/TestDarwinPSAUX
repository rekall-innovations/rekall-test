#!/bin/bash
if [ "$1" == "ok" ]; then
   cp /Users/adamsh/Projects/rekall-test/osx10.9.5/output/TestDarwinPSAUX /Users/adamsh/Projects/rekall-test/osx10.9.5/TestDarwinPSAUX
elif [ "$1" == "meld" ]; then
   meld /Users/adamsh/Projects/rekall-test/osx10.9.5/output/TestDarwinPSAUX /Users/adamsh/Projects/rekall-test/osx10.9.5/TestDarwinPSAUX
elif [ "$1" == "diff" ]; then
   diff /Users/adamsh/Projects/rekall-test/osx10.9.5/output/TestDarwinPSAUX /Users/adamsh/Projects/rekall-test/osx10.9.5/TestDarwinPSAUX
elif [ "$1" == "run" ]; then
   rekall  --renderer 'test' --filename '/Users/adamsh/Projects/rekall-test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module,Symbol' - psaux
else
   less /Users/adamsh/Projects/rekall-test/osx10.9.5/output/TestDarwinPSAUX
fi
exit 0
{
    "errors": {}, 
    "time_used": 14.510507106781006, 
    "return_code": 0, 
    "failures": {
        "testCase (__main__.TestDarwinPSAUX)": "Traceback (most recent call last):\n  File \"/Users/adamsh/Projects/rekall/rekall/testlib.py\", line 221, in run\n    testMethod()\n  File \"/Users/adamsh/Projects/rekall/rekall/testlib.py\", line 271, in testCase\n    self.assertEqual(previous, current)\nAssertionError: 102 != 110\n"
    }, 
    "output": [
        "  Pid   ||        Name        ||    Stack     || Length ||  Argc  ||Arguments", 
        "--------||--------------------||--------------||--------||--------||---------", 
        "0       ||kernel_task         ||0x000000000000||0       ||0       ||         ", 
        "1       ||launchd             ||0x7fff533c5000||136     ||1       ||         ", 
        "11      ||UserEventAgent      ||0x7fff508bd000||240     ||2       ||         ", 
        "12      ||kextd               ||0x7fff50d00000||232     ||1       ||         ", 
        "13      ||taskgated           ||0x7fff599a5000||240     ||2       ||         ", 
        "14      ||notifyd             ||0x7fff57d6e000||248     ||1       ||         ", 
        "15      ||diskarbitrationd    ||0x7fff55631000||256     ||1       ||         ", 
        "16      ||configd             ||0x7fff55c75000||232     ||1       ||         ", 
        "17      ||syslogd             ||0x7fff59282000||248     ||1       ||         ", 
        "18      ||securityd           ||0x7fff51f19000||240     ||2       ||         ", 
        "20      ||distnoted           ||0x7fff5bdca000||240     ||2       ||         ", 
        "21      ||opendirectoryd      ||0x7fff5c89f000||280     ||1       ||         ", 
        "22      ||powerd              ||0x7fff5124a000||296     ||1       ||         ", 
        "23      ||cfprefsd            ||0x7fff5712f000||240     ||2       ||         ", 
        "25      ||xpcd                ||0x7fff50ada000||312     ||1       ||         ", 
        "26      ||authd               ||0x7fff514b3000||280     ||1       ||         ", 
        "27      ||coreservicesd       ||0x7fff5ce87000||280     ||1       ||         ", 
        "29      ||wdhelper            ||0x7fff5d75d000||240     ||1       ||         ", 
        "30      ||warmd               ||0x7fff5256d000||232     ||1       ||         ", 
        "31      ||usbmuxd             ||0x7fff5fc00000||504     ||2       ||         ", 
        "34      ||stackshot           ||0x7fff5d783000||224     ||2       ||         ", 
        "37      ||SleepServicesD      ||0x7fff56599000||280     ||1       ||         ", 
        "39      ||revisiond           ||0x7fff5a414000||376     ||1       ||         ", 
        "44      ||mds                 ||0x7fff5dfa3000||376     ||1       ||         ", 
        "45      ||mDNSResponder       ||0x7fff56fb4000||376     ||1       ||         ", 
        "48      ||loginwindow         ||0x7fff56edf000||328     ||2       ||         ", 
        "49      ||logind              ||0x7fff51e7d000||264     ||1       ||         ", 
        "50      ||locationd           ||0x7fff5c734000||376     ||1       ||         ", 
        "51      ||KernelEventAgent    ||0x7fff55557000||232     ||1       ||         ", 
        "53      ||hidd                ||0x7fff5cbf5000||232     ||1       ||         ", 
        "54      ||fseventsd           ||0x7fff5bb15000||440     ||1       ||         ", 
        "55      ||firmwaresyncd       ||0x7fff55379000||224     ||1       ||         ", 
        "56      ||dynamic_pager       ||0x7fff53665000||248     ||3       ||         ", 
        "60      ||launchservicesd     ||0x7fff5c559000||280     ||1       ||         ", 
        "61      ||appleeventsd        ||0x7fff52274000||424     ||2       ||         ", 
        "66      ||autofsd             ||0x7fff50eaa000||208     ||1       ||         ", 
        "67      ||apsd                ||0x7fff5e342000||360     ||1       ||         ", 
        "68      ||aosnotifyd          ||0x7fff569ba000||240     ||1       ||         ", 
        "69      ||airportd            ||0x7fff5b4a2000||296     ||1       ||         ", 
        "80      ||rpcsvchost          ||0x7fff573ee000||272     ||3       ||         ", 
        "81      ||WindowServer        ||0x7fff59f6a000||432     ||2       ||         ", 
        "82      ||ocspd               ||0x7fff5c72b000||224     ||1       ||         ", 
        "83      ||backupd             ||0x7fff549e2000||264     ||1       ||         ", 
        "100     ||mds_stores          ||0x7fff5c629000||416     ||1       ||         ", 
        "104     ||networkd            ||0x7fff5ea5a000||368     ||1       ||         ", 
        "107     ||networkd_privile    ||0x7fff5690c000||264     ||1       ||         ", 
        "109     ||sysmond             ||0x7fff5bc0c000||224     ||1       ||         ", 
        "110     ||usbd                ||0x7fff5736e000||232     ||1       ||         ", 
        "111     ||ntpd                ||0x7fff544e8000||296     ||9       ||         ", 
        "114     ||com.apple.CodeSi    ||0x7fff5d12c000||328     ||1       ||         ", 
        "125     ||netbiosd            ||0x7fff4ffee000||360     ||1       ||         ", 
        "129     ||softwareupdated     ||0x7fff58ffd000||504     ||1       ||         ", 
        "130     ||xpcd                ||0x7fff5f471000||312     ||1       ||         ", 
        "132     ||tccd                ||0x7fff528e8000||328     ||2       ||         ", 
        "133     ||suhelperd           ||0x7fff51401000||352     ||1       ||         ", 
        "134     ||timezoned           ||0x7fff4ffb5000||616     ||1       ||         ", 
        "135     ||CVMServer           ||0x7fff56b22000||344     ||1       ||         ", 
        "136     ||launchd             ||0x7fff56e54000||328     ||1       ||         ", 
        "138     ||CVMCompiler         ||0x7fff57b65000||456     ||2       ||         ", 
        "141     ||launchd             ||0x7fff587e1000||312     ||1       ||         ", 
        "142     ||securityd_servic    ||0x7fff506b6000||256     ||1       ||         ", 
        "145     ||UserEventAgent      ||0x7fff55d0a000||432     ||2       ||         ", 
        "146     ||distnoted           ||0x7fff5e4ef000||336     ||2       ||         ", 
        "148     ||cfprefsd            ||0x7fff5d29b000||336     ||2       ||         ", 
        "151     ||Terminal            ||0x7fff5e154000||616     ||2       ||         ", 
        "153     ||Dock                ||0x7fff57bca000||504     ||1       ||         ", 
        "155     ||tccd                ||0x7fff5f7c1000||408     ||1       ||         ", 
        "156     ||SystemUIServer      ||0x7fff52fe5000||536     ||1       ||         ", 
        "157     ||Finder              ||0x7fff59bfc000||504     ||1       ||         ", 
        "159     ||coreaudiod          ||0x7fff5aae0000||368     ||1       ||         ", 
        "163     ||pboard              ||0x7fff55b8c000||424     ||1       ||         ", 
        "164     ||xpcd                ||0x7fff5eeb9000||312     ||1       ||         ", 
        "166     ||xpcd                ||0x7fff53c63000||312     ||1       ||         ", 
        "169     ||fontd               ||0x7fff53438000||568     ||1       ||         ", 
        "171     ||CVMCompiler         ||0x7fff508bf000||440     ||2       ||         ", 
        "172     ||com.apple.audio.    ||0x7fff518b4000||448     ||1       ||         ", 
        "175     ||sharingd            ||0x7fff5ae36000||424     ||1       ||         ", 
        "179     ||librariand          ||0x7fff550c4000||424     ||1       ||         ", 
        "180     ||usernoted           ||0x7fff554c3000||424     ||1       ||         ", 
        "181     ||NotificationCent    ||0x7fff5e56b000||552     ||1       ||         ", 
        "182     ||CVMCompiler         ||0x7fff514d0000||440     ||2       ||         ", 
        "183     ||ubd                 ||0x7fff5b0cc000||536     ||1       ||         ", 
        "184     ||mdworker            ||0x7fff5d829000||480     ||7       ||         ", 
        "188     ||filecoordination    ||0x7fff5f176000||248     ||1       ||         ", 
        "190     ||com.apple.ShareK    ||0x7fff50ac1000||408     ||1       ||         ", 
        "192     ||imagent             ||0x7fff57ea5000||576     ||1       ||         ", 
        "193     ||com.apple.audio.    ||0x7fff59fbd000||440     ||1       ||         ", 
        "194     ||CalendarAgent       ||0x7fff5f1ae000||576     ||1       ||         ", 
        "197     ||xpcd                ||0x7fff5e37d000||312     ||1       ||         ", 
        "201     ||IMDPersistenceAg    ||0x7fff50a9b000||416     ||1       ||         ", 
        "203     ||WiFiKeychainProx    ||0x7fff5a0f9000||440     ||1       ||         ", 
        "204     ||SocialPushAgent     ||0x7fff59792000||536     ||1       ||         ", 
        "207     ||lsboxd              ||0x7fff5bcf4000||424     ||1       ||         ", 
        "209     ||identityservices    ||0x7fff59e97000||624     ||1       ||         ", 
        "210     ||helpd               ||0x7fff5dff8000||560     ||1       ||         ", 
        "212     ||AppleIDAuthAgent    ||0x7fff5b1b7000||472     ||1       ||         ", 
        "217     ||FindMyMacd          ||0x7fff5c60a000||344     ||1       ||         ", 
        "219     ||accountsd           ||0x7fff5a474000||536     ||1       ||         ", 
        "223     ||secd                ||0x7fff54441000||360     ||1       ||         ", 
        "224     ||com.apple.IconSe    ||0x7fff5e527000||424     ||1       ||         ", 
        "227     ||com.apple.dock.e    ||0x7fff59e1a000||472     ||1       ||         ", 
        "228     ||quicklookd          ||0x7fff5bcc9000||584     ||1       ||         ", 
        "229     ||IMRemoteURLConne    ||0x7fff55d60000||528     ||1       ||         ", 
        "230     ||login               ||0x7fff5a3e2000||480     ||3       ||         ", 
        "232     ||bash                ||0x7fff543e8000||592     ||1       ||         ", 
        "236     ||CloudKeychainPro    ||0x7fff58a09000||568     ||1       ||         ", 
        "238     ||syncdefaultsd       ||0x7fff50316000||456     ||1       ||         ", 
        "239     ||cookied             ||0x7fff5a3e4000||536     ||1       ||         "
    ], 
    "options": {
        "--name_resolution_strategies": "Module,Symbol", 
        "executable": "rekall ", 
        "--filename": "/Users/adamsh/Projects/rekall-test/osx10.9.5/vmem.e01", 
        "commandline": "psaux", 
        "--renderer": "test", 
        "test_class": "TestDarwinPSAUX", 
        "tempdir": "/var/folders/yc/4zng19655k37kyxgskb3vvf0006t70/T/tmpGM8rTa/TestDarwinPSAUXThread-2", 
        "executed_command": "rekall  --renderer 'test' --filename '/Users/adamsh/Projects/rekall-test/osx10.9.5/vmem.e01' --name_resolution_strategies 'Module,Symbol' - psaux", 
        "testdir": "/Users/adamsh/Projects/rekall-test/osx10.9.5"
    }
}